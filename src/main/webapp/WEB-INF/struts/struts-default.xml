<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.1//EN" "http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">

<struts-config>

	<!-- Action forms -->
	<form-beans>
		<form-bean name="NavCalendarForm" type="net.rrm.ehour.web.calendar.NavCalendarForm" />
	</form-beans>

	<!-- Action Mapping Definitions -->
	<action-mappings>

		<!--  Actions -->

		<!-- entry point for all -->
		<action path="/eh/index"
				type="net.rrm.ehour.web.action.EntranceAction" >
			<forward name="adminOnly" path="/eh/admin/index.do" redirect="true" />
			<forward name="billable" path="/eh/timesheetOverview.do" redirect="true" />
		</action>
		
		<!-- Timesheet overview, login entry for everyone -->
		<action path="/eh/timesheetOverview"
				type="net.rrm.ehour.web.timesheet.action.TimesheetOverviewAction" >
			<forward name="success" path=".ehour.timesheet.overview" />
		</action>

		<!-- Navigation Calendar -->
		<action name="NavCalendarForm"
				path="/eh/cal/NavCalendar"
				type="net.rrm.ehour.web.calendar.GetNavCalendarAction" >
			<forward name="success" path=".ehour.calendar.navCalendar" />
		</action>

		<!-- Logoff action -->
		<action path="/eh/logOff"
			type="net.rrm.ehour.web.action.LogOffAction" >
			<forward name="success" path="/" />
		</action>
	</action-mappings>

	<!-- spring tiles controller -->
	<controller processorClass="org.springframework.web.struts.DelegatingTilesRequestProcessor" />

	<!-- tiles plugin. apparently tiles defs for other modules need to be loaded here as well,
		 adding them to the other config files won't work.. -->
	<plug-in className="org.apache.struts.tiles.TilesPlugin">
		<set-property property="definitions-config"	value="/WEB-INF/tiles/tiles-defs-default.xml,
															/WEB-INF/tiles/tiles-defs-admin.xml" />
		<set-property property="definitions-parser-validate" value="true" />
	</plug-in>

</struts-config>

