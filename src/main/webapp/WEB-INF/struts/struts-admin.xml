<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.1//EN" "http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">

<struts-config>
	<!-- Action forms -->
	<form-beans>
		<form-bean name="UserDepartmentForm" type="net.rrm.ehour.web.admin.dept.form.UserDepartmentForm" /> 
		<form-bean name="CustomerForm" type="net.rrm.ehour.web.admin.customer.form.CustomerForm" /> 		
		<form-bean name="UserForm" type="net.rrm.ehour.web.admin.user.form.UserForm" />		
	</form-beans>
	
	<!-- Global exceptions -->
	<global-exceptions>
		<exception	handler="net.rrm.ehour.web.exception.GlobalExceptionHandler"
					type="java.lang.Exception"
					key="generic"
					path="/exceptions.jsp"/>
	</global-exceptions>	
	

	<!-- Action Mapping Definitions -->
	<action-mappings>

		<!--  Actions -->

		<!-- Entry page for all administrators -->
		<action path="/index" type="net.rrm.ehour.web.admin.action.AdminEntryAction" >
			<forward name="success" path=".ehour.admin.index" />
		</action>

		<!-- List all user departments -->
		<action path="/dept/index" type="net.rrm.ehour.web.admin.dept.action.ListUserDepartmentsAction" >
			<forward name="success" path=".ehour.admin.dept.index" />
		</action>

		<!-- Get user department for editing -->
		<action name="UserDepartmentForm" 
				path="/dept/getUserDepartment" 
				type="net.rrm.ehour.web.admin.dept.action.GetUserDepartmentAction">
			<forward name="success" path=".ehour.admin.dept.editForm" />
		</action>

		<!-- Edit user department -->
		<action name="UserDepartmentForm" 
				path="/dept/editUserDepartment" 
				type="net.rrm.ehour.web.admin.dept.action.EditUserDepartmentAction">
			<forward  name="success" path=".ehour.admin.dept.list" />				
		</action>

		<!-- Delete user department -->
		<action name="UserDepartmentForm" 
				path="/dept/deleteUserDepartment" 
				type="net.rrm.ehour.web.admin.dept.action.DeleteUserDepartmentAction">
			<forward  name="success" path=".ehour.admin.dept.list" />				
		</action>

		<!-- Show add user department form -->
		<action path="/dept/addUserDepartmentForm" forward=".ehour.admin.dept.addForm" />



		<!-- List all customers -->
		<action path="/customer/index" type="net.rrm.ehour.web.admin.customer.action.ListCustomersAction" >
			<forward name="success" path=".ehour.admin.customer.index" />
		</action>

		<!-- Get customer for editing-->
		<action name="CustomerForm"
				path="/customer/getCustomer" 
				type="net.rrm.ehour.web.admin.customer.action.GetCustomerAction" >
			<forward name="success" path=".ehour.admin.customer.editForm" />
		</action>

		<!-- Show add customer form -->
		<action path="/customer/addCustomerForm" forward=".ehour.admin.customer.addForm" />

		<!-- Edit customer-->
		<action name="CustomerForm" 
				path="/customer/editCustomer" 
				type="net.rrm.ehour.web.admin.customer.action.EditCustomerAction">
			<forward  name="success" path=".ehour.admin.customer.list" />
		</action>

		<!-- Delete customer -->
		<action name="CustomerForm" 
				path="/customer/deleteCustomer" 
				type="net.rrm.ehour.web.admin.customer.action.DeleteCustomerAction">
			<forward  name="success" path=".ehour.admin.customer.list" />				
		</action>



		<!-- List all users -->
		<action name="UserForm"
				path="/user/index" 
				type="net.rrm.ehour.web.admin.user.action.ListUsersAction" >
			<forward name="fullList" path=".ehour.admin.user.fullList" />
			<forward name="filteredList" path=".ehour.admin.user.filteredList" />			
		</action>

		<!-- Show add user form -->
		<action path="/user/addUserForm" 
				type="net.rrm.ehour.web.admin.user.action.GetUserAction"
				parameter="addOnly">
			<forward name="success" path=".ehour.admin.user.addForm" />
		</action>

		<!-- Show edit user form -->
		<action name="UserForm"
				path="/user/getUser" 
				type="net.rrm.ehour.web.admin.user.action.GetUserAction">
			<forward name="success" path=".ehour.admin.user.editForm" />
		</action>

		<!-- Show edit user form -->
		<action name="UserForm"
				path="/user/editUser" 
				type="net.rrm.ehour.web.admin.customer.action.EditCustomerAction">
			<forward name="success" path=".ehour.admin.user.filteredList" />
		</action>
	</action-mappings>
	
	<!-- spring tiles controller -->
	<controller processorClass="org.springframework.web.struts.DelegatingTilesRequestProcessor" />

</struts-config>

