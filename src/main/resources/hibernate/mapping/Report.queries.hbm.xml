<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
    <query name="Report.getCumulatedHoursPerAssignmentOnDateForUserId">
         <![CDATA[SELECT new net.rrm.ehour.report.dto.ProjectReport(entry.entryId.projectAssignment, SUM(entry.hours))
                FROM TimesheetEntry entry
                WHERE entry.entryId.entryDate >= :dateStart AND
                      entry.entryId.entryDate <= :dateEnd AND
                      entry.entryId.projectAssignment.user.userId = :userId
                GROUP BY entry.entryId.projectAssignment.assignmentId
				ORDER BY entry.entryId.projectAssignment.project.projectCode
        ]]></query>
</hibernate-mapping>